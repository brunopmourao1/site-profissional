# HANDOFF - site-profissional

Data do handoff: 2026-02-11
Projeto: c:\projetos\site-profissional

## 1) Objetivo deste arquivo
Registrar exatamente:
- onde o projeto esta
- o que ja foi implementado
- o que ainda precisa
- o que deve ser testado na proxima sessao

## 2) Estado atual (resumo rapido)
- Dashboard com estrutura visual em caixas, mais organizado.
- Dados gerais separados em 3 blocos: Menu de cima, Aba principal (topo), Rodape.
- Aba principal com 3 funcoes:
  - texto
  - video
  - imagem
- Cada aba comum usa selecao de funcao unica (uma por vez), com configuracoes dinamicas.
- WhatsApp no rodape agora aparece como icone junto das redes sociais (ultimo item a direita).
- Frontend suporta cards com imagem e cards so texto, galeria de imagens com links, YouTube, mapa e formulario de contato.

## 3) O que foi implementado em detalhes

### 3.1) Funcoes das abas (Dashboard)
As abas agora usam `section_function` para ativacao unica.
Funcoes disponiveis:
1. `basic_text` = titulo + texto (fundo por cor)
2. `split_media` = titulo + texto com imagem/video lateral
3. `background_media` = titulo + texto com imagem/video no fundo
4. `cards_media` = cards com imagem + texto
5. `cards_text` = cards com titulo + texto (sem imagem)
6. `linked_gallery` = imagens com links
7. `youtube` = embed de YouTube
8. `map` = Google Maps embed
9. `contact_form` = formulario de contato da aba

Campos principais adicionados por aba:
- `section_function`
- `split_media_type`
- `background_media_type`
- `cards_style`

Regras relevantes:
- cards limitados a 6 no frontend
- galeria com links aceita layout `boxed` ou `direct`
- no layout `direct`, sai da caixa e aparece direto na aba

### 3.2) Aba principal (Dados gerais)
A area "Aba principal (topo)" foi reorganizada para 3 funcoes:
1. texto (primario + secundario + textos)
2. video (video com texto no fundo, video com texto lateral, ou so video)
3. imagem (imagem com texto no fundo, imagem com texto lateral, ou so imagem)

Campos principais:
- `hero_function`
- `hero_video_variant`
- `hero_image_variant`
- `hero_mode` (armazenado internamente)
- `hero_video`
- `hero_image`

Mapeamento interno importante:
- video -> `video_background`, `video_split`, `video_full`
- imagem -> `image_background`, `image_split`, `image_full`
- texto -> `text`

### 3.3) Rodape e redes sociais
- WhatsApp foi movido para lista de icones sociais.
- Se existir numero em `meta.whatsapp`, o icone e renderizado como ultimo item.

### 3.4) Frontend renderizado
O `index.php` agora trata:
- hero com modos de imagem e video
- cards em dois estilos (media/text)
- galeria com links (caixa ou direto na secao)
- embed de YouTube
- embed de Google Maps
- formulario de contato por aba (`mailto:`)

### 3.5) Normalizacao de dados
`includes/site_data.php` foi ajustado para:
- defaults dos novos campos
- migracao de dados antigos
- derivacao canonica de funcao/mode/feature

## 4) Arquivos chave para continuar
- `admin/index.php`
- `assets/dashboard-ui.js`
- `assets/admin.css`
- `index.php`
- `assets/site.css`
- `includes/site_data.php`
- `data/site.json`

## 5) Snapshot atual de conteudo
No `data/site.json` atual:
- `site_name`: `Creative Box`
- `headline`: `CREATIVE BOX DO MEU AMOR`
- `hero_mode`: `image_split`
- secoes cadastradas: 1
- secao atual: `Quem somos` (`section_function = basic_text`)

## 6) O que ainda precisamos fechar

### 6.1) Validacao funcional completa
Ainda precisa executar QA manual ponta a ponta com todos os cenarios.

### 6.2) Upload e limite de arquivo
O erro "Arquivo muito grande para upload" depende do PHP do ambiente.
Necessario conferir no servidor local/hospedagem:
- `upload_max_filesize`
- `post_max_size`
- `max_file_uploads`

### 6.3) Fluxo de formulario
Hoje o contato por aba usa `mailto:`.
Decidir se mantem assim ou se migra para envio backend (SMTP/API), para nao depender do cliente de e-mail do visitante.

### 6.4) Revisao visual final
Depois dos testes, fazer ajuste fino de espacos, responsividade e hierarquia visual.

## 7) Checklist de testes para amanha

### 7.1) Ambiente
1. Subir servidor local.
2. Login no dashboard.
3. Salvar dados gerais sem erro.

### 7.2) Testes da aba principal
1. Funcao 1 (texto): validar cores e textos.
2. Funcao 2 (video): validar fundo, lateral e so video.
3. Funcao 3 (imagem): validar fundo, lateral e so imagem.
4. Testar remocao de video/imagem principal.

### 7.3) Testes de funcoes de abas
1. `basic_text`.
2. `split_media` com imagem e com video.
3. `background_media` com imagem e com video.
4. `cards_media` com ate 6 cards.
5. `cards_text` com ate 6 cards sem imagem.
6. `linked_gallery` com links e layouts `boxed`/`direct`.
7. `youtube` com URL completa e com ID.
8. `map` com iframe embed.
9. `contact_form` com email destino valido e botao customizado.

### 7.4) Testes de rodape
1. Ativar/desativar cada rede social.
2. Validar WhatsApp como ultimo icone.
3. Testar clique dos links em nova aba.

### 7.5) Regressao
1. Criar aba, editar aba, excluir aba.
2. Subir/descer ordem das abas.
3. Verificar persistencia apos logout/login.
4. Verificar mobile (menu, cards, galeria, hero).

## 8) Comandos uteis

Entrar na pasta:
`cd c:\projetos\site-profissional`

Se `php` estiver no PATH:
`php -S localhost:8000`

Se `php` nao estiver no PATH:
`& "C:\CAMINHO\php.exe" -S localhost:8000 -t "c:\projetos\site-profissional"`

No ambiente desta sessao, `php` nao estava disponivel no PATH.

## 9) Ordem sugerida para continuidade
1. Rodar checklist das 9 funcoes das abas.
2. Rodar checklist dos 3 modos da aba principal.
3. Ajustar os pontos visuais encontrados.
4. Decidir estrategia final do formulario (`mailto` ou backend).
5. Fechar QA em desktop e mobile.

## 10) Criterio de pronto da proxima entrega
- Todas as funcoes testadas sem erro de renderizacao.
- Uploads funcionando no limite definido no ambiente.
- Rodape com redes e WhatsApp validado.
- Fluxo de contato aprovado.
- Layout responsivo aprovado em desktop e mobile.
